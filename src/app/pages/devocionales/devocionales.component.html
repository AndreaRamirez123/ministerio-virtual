<!--  FORMULARIO -->
<div class="formulario-con-fondo" [ngClass]="{ 'modo-edicion': editandoId }">
  <form (ngSubmit)="guardarDevocional()" #devocionalForm="ngForm" class="formulario-devocional">
    <h3>{{ editandoId ? '‚úçÔ∏è Editando Devocional' : '‚úçÔ∏è Agregar Devocional' }}</h3>

    <div class="campo">
      <input type="text" name="titulo" [(ngModel)]="nuevoDevocional.titulo" required placeholder=" " />
      <label>T√≠tulo</label>
    </div>

    <div class="campo">
      <input type="text" name="cita_biblica" [(ngModel)]="nuevoDevocional.cita_biblica" placeholder=" " />
      <label>Cita B√≠blica</label>
    </div>

    <div class="campo">
      <textarea name="reflexion" [(ngModel)]="nuevoDevocional.reflexion" required placeholder=" "></textarea>
      <label>Reflexi√≥n</label>
    </div>

    <div class="campo">
      <textarea name="oracion" [(ngModel)]="nuevoDevocional.oracion" placeholder=" "></textarea>
      <label>Oraci√≥n</label>
    </div>

    <div class="campo">
      <input type="date" name="fecha_programada" [(ngModel)]="nuevoDevocional.fecha_programada" required placeholder=" " />
      <label>Fecha para publicar</label>
    </div>

    <button type="submit">
      {{ editandoId ? 'Actualizar Devocional' : 'Guardar Devocional' }}
    </button>

    <button *ngIf="editandoId" type="button" (click)="cancelarEdicion()" style="margin-left: 10px;">
      ‚ùå Cancelar edici√≥n
    </button>
  </form>
</div>

<div *ngIf="devocionalDelDia" class="book-container">
  <div class="book-page" [ngSwitch]="paginaActual">
    <h2 *ngSwitchCase="0">{{ devocionalDelDia.titulo }}</h2>
    <div *ngSwitchCase="1">
      <p><strong>Cita B√≠blica:</strong></p>
      <p class="cita">{{ devocionalDelDia.cita_biblica }}</p>
    </div>
    <div *ngSwitchCase="2">
      <p><strong>Reflexi√≥n:</strong></p>
      <p class="reflexion">{{ devocionalDelDia.reflexion }}</p>
    </div>
    <div *ngSwitchCase="3">
      <p><strong>Oraci√≥n:</strong></p>
      <p class="oracion">{{ devocionalDelDia.oracion }}</p>
    </div>
  </div>

  <div class="navegacion">
    <button (click)="paginaAnterior()" [disabled]="paginaActual === 0">Anterior</button>
    <button (click)="paginaSiguiente()" [disabled]="paginaActual === 3">Siguiente</button>
  </div>

  <div class="like-section">
    <button (click)="toggleLike(devocionalDelDia)">
      {{ devocionalDelDia.likeado ? 'üíî Quitar Like' : '‚ù§Ô∏è Me Gusta' }}
    </button>
    <p>{{ devocionalDelDia.likes || 0 }} Me gusta</p>
  </div>
</div>

<footer class="footer">
  <p>¬© {{ anioActual }} Ministerio Virtual ‚Äî Desarrollado con fe üíú</p>
</footer>
